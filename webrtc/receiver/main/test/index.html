<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Baby Monitor – Receiver (Shared Sidebar)</title>
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover" />

  <!-- Shared sidebar styles -->
  <link rel="stylesheet" href="/hungryface/shared/sidebar.css" />

  <!-- Optional: your page styles -->
  <style>
    :root { color-scheme: dark; }
    html, body {
      margin: 0; height: 100%;
      background: #000; color: #fff;
      font-family: -apple-system, system-ui, Segoe UI, Roboto, sans-serif;
    }
    /* Demo content area so you can see the sidebar overlay on top */
    #content {
      min-height: 100dvh;
      display: grid; place-items: center;
      padding: 24px;
      text-align: center;
    }
    .card {
      max-width: 720px;
      padding: 20px 24px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,0.1);
      background: rgba(255,255,255,0.04);
      box-shadow: 0 10px 30px rgba(0,0,0,0.25);
    }
    .card h1 { margin: 0 0 8px; font-size: 22px; }
    .card p { margin: 0; color: #cfcfcf; }
  </style>
</head>

<!--
  data-menu-active: which menu item to highlight initially (home|video|audio|pose|face|settings|help|invite|contact)
  data-invite-url:  override invite link for the QR modal (defaults to HungryFace home)
-->
<body data-menu-active="video" data-invite-url="https://hungryfaceai.github.io/hungryface/home/">

  <!-- Your page content (replace with your app UI) -->
  <main id="content" role="main">
    <div class="card">
      <h1>Receiver – Video</h1>
      <p>This is your page content. The shared sidebar &amp; invite modal are loaded below.</p>
    </div>
  </main>

  <!-- Inject shared sidebar markup, then load sidebar behavior -->
  <script type="module">
    (async () => {
      try {
        // 1) Fetch and inject the shared HTML (hamburger + sidebar + invite modal)
        const res = await fetch('/hungryface/shared/sidebar.html', { cache: 'no-cache' });
        const html = await res.text();
        const wrap = document.createElement('div');
        wrap.innerHTML = html.trim();
        // Prepend so hamburger sits above page content
        document.body.prepend(...wrap.childNodes);

        // 2) Load the shared JS after the HTML exists
        await new Promise((resolve, reject) => {
          const s = document.createElement('script');
          s.src = '/hungryface/shared/sidebar.js';
          s.onload = resolve;
          s.onerror = reject;
          document.body.appendChild(s);
        });
      } catch (err) {
        console.error('[Sidebar] failed to load shared assets:', err);
      }
    })();
  </script>

  <noscript>
    <div style="position:fixed;left:0;right:0;bottom:0;padding:10px 14px;background:#200;color:#fff;border-top:1px solid #400;text-align:center;font:14px/1.4 -apple-system,system-ui,Segoe UI,Roboto,sans-serif;">
      JavaScript is required to load the shared sidebar.
    </div>
  </noscript>
</body>
</html>
